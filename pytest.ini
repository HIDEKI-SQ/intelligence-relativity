# pytest configuration for v2.0.0 SP tests
[pytest]
minversion = 7.0
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Verbose output
addopts = 
    -v
    --tb=short
    --strict-markers
    --color=yes

# Markers for test categorization
markers =
    slow: marks tests as slow (deselect with '-m "not slow"')
    integration: marks tests as integration tests
    determinism: marks tests validating deterministic reproducibility
    cross_implementation: marks tests validating v1/v2 compatibility

# Coverage settings (optional)
# addopts = --cov=src/core_sp --cov=src/experiments_sp --cov-report=term-missing

# Ignore warnings from dependencies
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning

# Test discovery
norecursedirs = 
    .git
    .github
    outputs_sp
    __pycache__
```

---

## ğŸš€ ä½¿ã„æ–¹

### **1. ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆè‡ªå‹• or æ‰‹å‹•ï¼‰**

#### **è‡ªå‹•å®Ÿè¡Œï¼ˆã‚³ãƒŸãƒƒãƒˆæ™‚ï¼‰**
- `src/core_sp/` ã‚„ `tests/` ã‚’å¤‰æ›´ã—ã¦push
- è‡ªå‹•çš„ã«ãƒ†ã‚¹ãƒˆãŒèµ°ã‚‹

#### **æ‰‹å‹•å®Ÿè¡Œ**
1. GitHubã®ãƒªãƒã‚¸ãƒˆãƒªãƒšãƒ¼ã‚¸ã¸
2. **Actions** ã‚¿ãƒ–ã‚’ã‚¯ãƒªãƒƒã‚¯
3. å·¦ã‚µã‚¤ãƒ‰ãƒãƒ¼ã§ **"SP Tests (v2.0.0)"** ã‚’é¸æŠ
4. å³ä¸Šã® **"Run workflow"** ãƒœã‚¿ãƒ³ â†’ **"Run workflow"**

---

### **2. å®Ÿé¨“å®Ÿè¡Œï¼ˆæ‰‹å‹•ã®ã¿ï¼‰**

1. **Actions** ã‚¿ãƒ– â†’ **"Run SP Experiments (v2.0.0)"**
2. **"Run workflow"** ã‚’ã‚¯ãƒªãƒƒã‚¯
3. **ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿é¸æŠï¼š**
   - `experiment_set`: å®Ÿè¡Œã™ã‚‹å®Ÿé¨“ã‚»ãƒƒãƒˆ
     - `i2`: I-2å®Ÿé¨“ï¼ˆç´„5åˆ†ï¼‰
     - `o2`: O-2å®Ÿé¨“ï¼ˆç´„10åˆ†ï¼‰
     - `o3`: O-3å®Ÿé¨“ï¼ˆç´„15åˆ†ã€n_trials=1000ã®å ´åˆï¼‰
     - `o4_synth`: O-4åˆæˆï¼ˆç´„15åˆ†ï¼‰
     - `robust`: Robustnessï¼ˆç´„5åˆ†ï¼‰
     - `all`: å…¨å®Ÿé¨“ï¼ˆâš ï¸ ç´„60åˆ†ï¼‰
   - `n_trials`: è©¦è¡Œå›æ•°ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ100ã€ãƒ†ã‚¹ãƒˆãªã‚‰10ï¼‰
4. **"Run workflow"** ã§å®Ÿè¡Œé–‹å§‹

---

### **3. çµæœã®ç¢ºèª**

#### **ãƒ†ã‚¹ãƒˆçµæœ**
- Actionsãƒšãƒ¼ã‚¸ã§è©²å½“ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’ã‚¯ãƒªãƒƒã‚¯
- ç·‘âœ… = å…¨ãƒ†ã‚¹ãƒˆé€šé
- èµ¤âŒ = ã‚¨ãƒ©ãƒ¼ã‚ã‚Šï¼ˆãƒ­ã‚°ã§è©³ç´°ç¢ºèªï¼‰

#### **å®Ÿé¨“çµæœ**
- Actionsãƒšãƒ¼ã‚¸ â†’ å®Œäº†ã—ãŸãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
- **Artifacts** ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ `experiment-outputs-xxx` ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
- ZIPã‚’è§£å‡ã™ã‚‹ã¨ `outputs_sp/` ä»¥ä¸‹ã«å…¨JSONãƒ•ã‚¡ã‚¤ãƒ«

---

## âš ï¸ æ³¨æ„äº‹é …

### **GitHub Actionsåˆ¶é™**
- ç„¡æ–™æ : æœˆ2,000åˆ†ï¼ˆprivateãƒªãƒã‚¸ãƒˆãƒªï¼‰
- publicãƒªãƒã‚¸ãƒˆãƒª: ç„¡åˆ¶é™
- **æ¨å¥¨**: 
  - ã¾ãšãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œï¼ˆ3-5åˆ†ï¼‰
  - æ¬¡ã«i2ãªã©å°è¦æ¨¡å®Ÿé¨“ï¼ˆ5-10åˆ†ï¼‰
  - æœ€å¾Œã«allå®Ÿé¨“ï¼ˆè¦æ³¨æ„ã€60åˆ†+ï¼‰

### **BERTå®Ÿé¨“ï¼ˆsp31ï¼‰**
- GitHub Actionsãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã«ã¯ **å«ã‚ã¦ã„ã¾ã›ã‚“**
- ç†ç”±: BERTãƒ¢ãƒ‡ãƒ«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãŒé‡ã„ï¼ˆæ™‚é–“ãƒ»å®¹é‡ï¼‰
- å¿…è¦ãªã‚‰åˆ¥é€”ãƒ­ãƒ¼ã‚«ãƒ«å®Ÿè¡Œã‚’æ¨å¥¨

---

## âœ… ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
```
â–¡ .github/workflows/test_sp.yml ä½œæˆ
â–¡ .github/workflows/run_experiments_sp.yml ä½œæˆ
â–¡ pytest.ini ä½œæˆ
â–¡ å…¨ãƒ•ã‚¡ã‚¤ãƒ«ã‚’GitHubã«push
â–¡ Actionsã‚¿ãƒ–ã§ "SP Tests" æ‰‹å‹•å®Ÿè¡Œ
â–¡ ãƒ†ã‚¹ãƒˆçµæœç¢ºèªï¼ˆå…¨ã¦âœ…ã‚’ç›®æŒ‡ã™ï¼‰
â–¡ å•é¡ŒãŒã‚ã‚Œã°ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã‚’å…±æœ‰
